From a14d273645dfbc3c17f4982c54b4486f5cb17ca5 Mon Sep 17 00:00:00 2001
From: Sven Neumann <s.neumann@raumfeld.com>
Date: Tue, 19 Apr 2011 12:08:51 +0200
Subject: [PATCH 2/2] Add quotes around charset value in HTTP header

The UPnP spec requires quotes around the charset value in the
Content-Type HTTP header for NOTIFY messages.
---
 libgupnp/gupnp-service.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/libgupnp/gupnp-service.c b/libgupnp/gupnp-service.c
index ee0c5a1..1913c7d 100644
--- a/libgupnp/gupnp-service.c
+++ b/libgupnp/gupnp-service.c
@@ -1870,7 +1870,7 @@ notify_subscriber (gpointer key,
 
         /* Add body */
         soup_message_set_request (msg,
-                                  "text/xml; charset=utf-8",
+                                  "text/xml; charset=\"utf-8\"",
                                   SOUP_MEMORY_TAKE,
                                   g_strdup (property_set),
                                   strlen (property_set));
-- 
1.7.1

