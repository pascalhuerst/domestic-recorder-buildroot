From 20f1c7197173816490a6196c776793d77791e1f1 Mon Sep 17 00:00:00 2001
From: Ross Lagerwall <rosslagerwall@gmail.com>
Date: Wed, 11 Dec 2013 18:55:57 +0200
Subject: [PATCH] dav: Set the is_hidden property for files starting with a '.'

https://bugzilla.gnome.org/show_bug.cgi?id=720275
---
 daemon/gvfsbackenddav.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/daemon/gvfsbackenddav.c b/daemon/gvfsbackenddav.c
index a661230..cd92625 100644
--- a/daemon/gvfsbackenddav.c
+++ b/daemon/gvfsbackenddav.c
@@ -991,6 +991,9 @@ ms_response_to_file_info (MsResponse *response,
   g_file_info_set_name (info, basename);
   g_file_info_set_edit_name (info, basename);
 
+  if (basename && basename[0] == '.')
+    g_file_info_set_is_hidden (info, TRUE);
+
   file_type = G_FILE_TYPE_REGULAR;
   mime_type = NULL;
 
-- 
1.8.4.2

