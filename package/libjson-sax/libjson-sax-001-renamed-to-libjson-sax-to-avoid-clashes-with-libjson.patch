From e070cd0e2685ca9247d23c4b83ca2fb3b5a5fd03 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=BCrgen=20Schwietering?=
 <Juergen.schwietering@teufel.de>
Date: Tue, 26 Apr 2016 14:47:10 +0200
Subject: [PATCH] renamed to libjson-sax to avoid clashes with libjson

---
 Makefile       | 25 +++++++++++++------------
 README.md      | 42 +++++++++++++++++++++---------------------
 debian/control | 10 +++++-----
 debian/watch   |  2 +-
 libjson.pc.in  |  2 +-
 5 files changed, 41 insertions(+), 40 deletions(-)

diff --git a/Makefile b/Makefile
index 9ee15b5..88b206b 100644
--- a/Makefile
+++ b/Makefile
@@ -14,11 +14,12 @@ MINOR = 0
 MICRO = 0
 
 NAME = json
-A_TARGETS = lib$(NAME).a
+LIBNAME = json-sax
+A_TARGETS = lib$(LIBNAME).a
 BIN_TARGETS = $(NAME)lint
-PC_TARGET = lib$(NAME).pc
-SO_LINKS = lib$(NAME).so lib$(NAME).so.$(MAJOR) lib$(NAME).so.$(MAJOR).$(MINOR)
-SO_FILE = lib$(NAME).so.$(MAJOR).$(MINOR).$(MICRO)
+PC_TARGET = lib$(LIBNAME).pc
+SO_LINKS = lib$(LIBNAME).so lib$(LIBNAME).so.$(MAJOR) lib$(LIBNAME).so.$(MAJOR).$(MINOR)
+SO_FILE = lib$(LIBNAME).so.$(MAJOR).$(MINOR).$(MICRO)
 HEADERS = $(NAME).h
 
 PREFIX ?= /usr
@@ -30,26 +31,26 @@ uname_S := $(shell sh -c 'uname -s 2>/dev/null || echo not')
 ifeq ($(uname_S),Darwin)
 SONAME=
 else
-SONAME=-Wl,-soname -Wl,lib$(NAME).so.$(MAJOR).$(MINOR).$(MICRO)
+SONAME=-Wl,-soname -Wl,lib$(LIBNAME).so.$(MAJOR).$(MINOR).$(MICRO)
 endif
 
 TARGETS = $(A_TARGETS) $(SO_FILE) $(SO_LINKS) $(BIN_TARGETS) $(PC_TARGET)
 
 all: $(TARGETS)
 
-lib$(NAME).a: $(NAME).o
+lib$(LIBNAME).a: $(NAME).o
 	$(AR) rc $@ $+
 
-lib$(NAME).so: lib$(NAME).so.$(MAJOR)
+lib$(LIBNAME).so: lib$(LIBNAME).so.$(MAJOR)
 	ln -sf $< $@
 
-lib$(NAME).so.$(MAJOR): lib$(NAME).so.$(MAJOR).$(MINOR)
+lib$(LIBNAME).so.$(MAJOR): lib$(LIBNAME).so.$(MAJOR).$(MINOR)
 	ln -sf $< $@
 
-lib$(NAME).so.$(MAJOR).$(MINOR): lib$(NAME).so.$(MAJOR).$(MINOR).$(MICRO)
+lib$(LIBNAME).so.$(MAJOR).$(MINOR): lib$(LIBNAME).so.$(MAJOR).$(MINOR).$(MICRO)
 	ln -sf $< $@
 
-lib$(NAME).so.$(MAJOR).$(MINOR).$(MICRO): $(NAME).o
+lib$(LIBNAME).so.$(MAJOR).$(MINOR).$(MICRO): $(NAME).o
 	$(CC) $(CFLAGS) $(LDFLAGS) $(SONAME) $(SHLIB_CFLAGS) -o $@ $^
 
 $(NAME)lint: $(NAME)lint.o $(NAME).o
@@ -58,8 +59,8 @@ $(NAME)lint: $(NAME)lint.o $(NAME).o
 %.o: %.c %.h
 	$(CC) $(CFLAGS) -c -o $@ $<
 
-.PHONY: lib$(NAME).pc
-lib$(NAME).pc: lib$(NAME).pc.in
+.PHONY: lib$(LIBNAME).pc
+lib$(LIBNAME).pc: lib$(NAME).pc.in
 	sed -e 's;@PREFIX@;$(PREFIX);' -e 's;@LIBJSON_VER_MAJOR@;$(MAJOR);' -e 's;@LIBJSON_VER_MINOR@;$(MINOR);' < $< > $@
 
 .PHONY: tests clean install install-bin install-lib
diff --git a/README.md b/README.md
index 4b356fa..d69652e 100644
--- a/README.md
+++ b/README.md
@@ -1,10 +1,10 @@
-libjson - simple and efficient json parser and printer in C
+libjson-sax - simple and efficient json parser and printer in C
 ===========================================================
 
 Introduction
 ------------
 
-libjson is a simple library without any dependancies to parse and pretty print
+libjson-sax is a simple library without any dependencies to parse and pretty print
 the JSON format ([RFC 4627](https://www.ietf.org/rfc/rfc4627.txt)). The JSON format is a concise and structured data
 format.
 
@@ -22,7 +22,7 @@ Features
 * Optional comments: in YAML/python style and C style.
 * Optional user defined allocation functions.
 
-libjson parser is an interruptible handcoded state parse. the parser takes
+libjson-sax parser is an interruptible handcoded state parse. the parser takes
 character or string as input. Since it's interruptible, it's up to the
 user to feed the stream to the parser, which permits complete flexibility
 as to whether the data is coming from a pipe, a network socket, a file on disk,
@@ -71,52 +71,52 @@ The Parser API
 
 The parser API is really simple, totaling only 5 API calls:
 
- * json\_parser\_init
- * json\_parser\_char
- * json\_parser\_string
- * json\_parser\_is\_done
- * json\_parser\_free
+ * json-sax\_parser\_init
+ * json-sax\_parser\_char
+ * json-sax\_parser\_string
+ * json-sax\_parser\_is\_done
+ * json-sax\_parser\_free
 
-json\_parser\_init initializes a new parser context from a parser config and
+json-sax\_parser\_init initializes a new parser context from a parser config and
 takes a callback + userdata. This callback function is used everything the
 parser need to communicate a type and value to the client side of the library.
 
-json\_parser\_char take one character and inject it in the parser. on parsing
+json-sax\_parser\_char take one character and inject it in the parser. on parsing
 success it will return a 0 value, but on parsing error it returns a parsing
 error that represents the type of the error encounters. see JSON\_ERROR\_\*
 for the full set of return values.
 
-json\_parser\_string is similar to json\_parser\_char except that it takes a string
+json-sax\_parser\_string is similar to json-sax\_parser\_char except that it takes a string
 and a length.  it also returns the number of character processed, which is
 useful when an parser error happened in the stream to pinpoint where.
 
-json\_parser\_is\_done permits to test whetever or not the parser is in a
+json-sax\_parser\_is\_done permits to test whetever or not the parser is in a
 terminated state. it involves not beeing into any structure.
 
-json\_parser\_free is the opposite of init, it just free the allocated structure.
+json-sax\_parser\_free is the opposite of init, it just free the allocated structure.
 
 The Printer API
 ---------------
 
 the printer API is simple too:
 
- * json\_printer\_init
- * json\_printer\_free
- * json\_printer\_pretty
- * json\_printer\_raw
+ * json-sax\_printer\_init
+ * json-sax\_printer\_free
+ * json-sax\_printer\_pretty
+ * json-sax\_printer\_raw
 
-json\_printer\_init initialise a printing context and takes a callback + userdata
+json-sax\_printer\_init initialise a printing context and takes a callback + userdata
 that will be called for every character that the printer wants to output. the
 caller can have the printer callback redirect to anything it wants.
 
-json\_printer\_free is the opposite of init
+json-sax\_printer\_free is the opposite of init
 
-json\_printer\_raw takes a json type and an optional data and length value
+json-sax\_printer\_raw takes a json type and an optional data and length value
 depending on the type. it's up to the caller to verify that the order of type
 are JSON-compliant, otherwise the generated document won't be able to be parsed
 again.
 
-json\_printer\_pretty works like json\_printer\_raw but is targetted for human
+json-sax\_printer\_pretty works like json-sax\_printer\_raw but is targetted for human
 reading by appending newlines and spaces
 
 Jsonlint utility program
diff --git a/debian/control b/debian/control
index 528ba96..b6fb008 100644
--- a/debian/control
+++ b/debian/control
@@ -1,20 +1,20 @@
-Source: libjson
+Source: libjson-sax
 Priority: extra
 Maintainer: William Dauchy <wdauchy@gmail.com>
 Build-Depends: debhelper (>= 7)
 Standards-Version: 3.8.4
 Section: libs
-Homepage: http://projects.snarc.org/libjson/
+Homepage: http://projects.snarc.org/libjson-sax/
 
-Package: libjson-dev
+Package: libjson-sax-dev
 Section: libdevel
 Architecture: any
 Depends: libjson (= ${binary:Version})
-Description: Development files for libjson
+Description: Development files for libjson-sax
  This package contains the header files and static library needed to
  compile applications that use confuse.
 
-Package: libjson
+Package: libjson-sax
 Section: libs
 Architecture: any
 Depends: ${shlibs:Depends}, ${misc:Depends}
diff --git a/debian/watch b/debian/watch
index 6752ec6..1917c51 100644
--- a/debian/watch
+++ b/debian/watch
@@ -1,4 +1,4 @@
 # Compulsory line, this is a version 3 file
 version=3
 
-http://projects.snarc.org/libjson/download/libjson-(.*)\.tar\.gz
+http://projects.snarc.org/libjson/download/libjson-sax-(.*)\.tar\.gz
diff --git a/libjson.pc.in b/libjson.pc.in
index 8a1904b..74c1d2b 100644
--- a/libjson.pc.in
+++ b/libjson.pc.in
@@ -3,7 +3,7 @@ exec_prefix=${prefix}
 libdir=${exec_prefix}/lib
 includedir=${prefix}/include
 
-Name: libjson
+Name: libjson-sax
 Description: Library supporting JSON format
 Version: @LIBJSON_VER_MAJOR@.@LIBJSON_VER_MINOR@
 Libs: -L${libdir} -ljson
-- 
2.5.5

