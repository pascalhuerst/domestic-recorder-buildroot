--- taglib-extras/taglib-extras/mp4/mp4tag.cpp	2010-10-11 14:27:47.000000000 +0200
+++ taglib-extras/taglib-extras/mp4/mp4tag.cpp	2010-10-12 16:48:59.000000000 +0200
@@ -27,6 +27,7 @@
 #include "mp4tag.h"
 #include "tdebug.h"
 #include <tstring.h>
+#include <id3v1genres.h>
 
 using namespace TagLib;
 
@@ -55,6 +56,7 @@
   for(unsigned int i = 0; i < ilst->children.size(); i++) {
     MP4::Atom *atom = ilst->children[i];
     file->seek(atom->offset + 8);
+
     if(atom->name == "----") {
       parseFreeForm(atom, file);
     }
@@ -67,6 +69,9 @@
     else if(atom->name == "tmpo") {
       parseInt(atom, file);
     }
+    else if(atom->name == "gnre") {
+      parseInt(atom, file);
+    }
     else if(atom->name == "covr") {
       parseBinary(atom, file);
     }
@@ -514,6 +519,13 @@
 {
   if(d->items.contains("\251gen"))
     return d->items["\251gen"].toStringList().toString(", ");
+
+  if(d->items.contains("gnre"))
+  {
+    int i = d->items["gnre"].toIntPair().first;
+    return TagLib::ID3v1::genre(i);
+  }
+
   return String::null;
 }
 
